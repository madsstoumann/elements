<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>Layout</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<link href="../assets/css/demo.css" rel="stylesheet">
	<link href="../assets/css/animations.css" rel="stylesheet">
	<link href="../assets/css/c-lay.css" rel="stylesheet">
	<link href="../assets/css/c-typ.css" rel="stylesheet">

	<style>
		/* Demo Styles */
		body {
			margin: 0;
		}
		.item {
			background-color: deepskyblue;
			box-shadow: 0px 10px 5px -5px rgba(0, 0, 0, 0.15);
			border-radius: 0px;
			color: #FFF;
			font-family: sans-serif;
			font-size: 2rem;
			height: 300px;
			line-height: 1.2;
			padding: .75rem 0 0 1rem;
		}

		/* HANDLE SCROLLBAR-STYLES: thick, thin etc. */
	</style>
</head>
<body class="typo typo--dynamic">

	<!-- https://www.w3.org/TR/wai-aria-practices/examples/carousel/carousel-1.html -->

	<!--
		stack no gap between items:
		--sec-item-gap: 0px;
		--sec-item-mis: 0px;
		
		stack - no gap between rows:
		--sec-item-mb: 0px;
		--sec-inner-pb: var(--sec-gap);

	-->
<main class="c-lay__wrapper">
	<section class="c-lay c-lay--hero"
		data-layout=""
		data-layout-tablet=""
		data-section-type="slider">

		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">full-width hero</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
				<div class="c-lay__item"><div class="item">10</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--pt c-lay--desc-m"
		data-gap="left/right, below, between items" data-margin-top="etc..." data-margin-bottom="add if scrollbar!"
		data-layout=""
		data-layout-tablet=""
		data-section-type="slider">
		<h2 class="c-lay__headline c-headline--h1">Slider with preview of next item and a headline, that spans multiple lines.</h2>
		<div class="c-lay__description">
			<p>
				Shows a preview of the next item in the section. A scrollbar will ber shown on desktop devices, if JavaScript somehow fails.
				This descriptive text has the modifier <code>c-lay__desc--s</code>, setting the max-width to 50%.
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Nostrum perferendis sint laudantium pariatur cum non aperiam cupiditate corporis eos numquam rerum error, facilis culpa distinctio dolore architecto illum magni quod quaerat quasi ab officiis soluta doloremque? Ratione sint libero incidunt, non saepe ad id? Debitis ducimus cum quas rem nostrum.
			</p>
			<h2 class="c-lay__headline c-headline--h2">Some smaller headline that will also be shown in multiple lines</h2>
			<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi corrupti similique, quia fuga maiores quam dolores tempore repellendus est excepturi quos assumenda obcaecati, vel ad. Non repellat dolor amet harum voluptas perspiciatis aperiam sequi nisi dicta? Eum saepe laborum obcaecati, eos ipsa, ullam officia ad odit minima suscipit ab ipsum. Eos animi aspernatur est quae, sint reiciendis voluptatem debitis quaerat maxime quod illo aliquam laborum possimus adipisci voluptates dolores sunt voluptatibus soluta eius reprehenderit nostrum?</p>
			<p class="c-typ--small">Footnotes and other stuff<br />
				&dagger; Footnote<br />
				&Dagger; Another one
			</p>
		</div>

		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
				<div class="c-lay__item"><div class="item">10</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--pt c-lay--head-m c-lay--desc-s"
		data-layout="100"
		data-layout-tablet="50:50"
		data-layout-desktop="33:33:33"
		data-section-type="slider">
		<h2 class="c-lay__headline c-headline--h1">Slider with no preview and multiple items per “page”</h2>
		<div class="c-lay__description">
			The headline use the <code>c-lay__head--m</code>-modidier to set max-width to 75%. Visible navigation arrows will be shown on all screensizes, since no preview indicates swipeability.
		</div>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--w-xl c-lay--desc-m c-lay--head-m c-lay--pt"
		data-layout="50:50"
		data-layout-tablet="33:66"
		data-layout-desktop="25:25:25:25"
		data-section-type="stack"
		style="--sec-bg:#DDD;">
		<h2 class="c-lay__headline c-headline--h1">Grouped stacked sections with layout changes</h2>
		<div class="c-lay__description">
			The content in the top section is stacked, and will will change from <code>50:50</code> to <code>33:66</code> to <code>25:25:25:25</code>.
			As the section has a custom background-color, the modifier <code>c-lay-pt</code> has been added, to add padding to the top.
		</div>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">50% <br/> 33% <br/> 25%</div></div>
				<div class="c-lay__item"><div class="item">50% <br/> 66% <br/> 25%</div></div>
				<div class="c-lay__item"><div class="item">50% <br/> 33% <br/> 25%</div></div>
				<div class="c-lay__item"><div class="item">50% <br/> 66% <br/> 25%</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--w-xl"
		data-layout="50:50"
		data-layout-tablet="33:33:33"
		data-layout-desktop="25:50:25"
		data-section-type="stack"
		style="--sec-bg:#DDD;">
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">50% <br/> 33% <br/> 25%</div></div>
				<div class="c-lay__item"><div class="item">50% <br/> 33% <br/> 50%</div></div>
				<div class="c-lay__item"><div class="item">50% <br/> 33% <br/> 25%</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--mb c-lay--w-xl"
	data-layout="100"
	data-layout-tablet="50:50"
	data-layout-desktop="75:25"
	data-section-type="stack"
	style="--sec-bg:#DDD;">
	<div class="c-lay__outer">
		<div class="c-lay__inner" data-scroller>
			<div class="c-lay__item"><div class="item">100% <br/> 50% <br/> 75%</div></div>
			<div class="c-lay__item"><div class="item">100% <br/> 50% <br/> 25%</div></div>
		</div>
	</div>
</section>

	<section class="c-lay c-lay--w-m c-lay--pt c-lay--head-m c-lay--desc-m"
		data-layout="100"
		data-layout-tablet="50:50"
		data-layout-desktop="33:33:33"
		data-section-type="stack"
		style="--sec-bg:#D8E8FF;">
		<h2 class="c-lay__headline c-headline--h1">Stacked content, that will not slide</h2>
		<div class="c-lay__description">
			The content in this section is stacked — and will not be turned into a slider, when the screensize changes.
			The section has the `medium-width`-modifier, <code>c-lay--w-m</code>, and a custom background-color.
			This descriptive text use the modifier <code>c-lay--desc-m</code>
		</div>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--mb c-lay--head-m c-lay--pt"
		data-animation="a-fade-in-bl"
		data-align="center"
		data-section-type="slider">
		<h2 class="c-lay__headline c-headline--h1">Slider with preview of both previous and next items</h2>
		<div class="c-lay__description">
			The section slides in from the bottom, using the animation <code>a-fade-in-bl</code>
		</div>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
				<div class="c-lay__item"><div class="item">10</div></div>
				<div class="c-lay__item"><div class="item">11</div></div>
				<div class="c-lay__item"><div class="item">12</div></div>
				<div class="c-lay__item"><div class="item">13</div></div>
				<div class="c-lay__item"><div class="item">14</div></div>
				<div class="c-lay__item"><div class="item">15</div></div>
				<div class="c-lay__item"><div class="item">16</div></div>
				<div class="c-lay__item"><div class="item">17</div></div>
				<div class="c-lay__item"><div class="item">18</div></div>
				<div class="c-lay__item"><div class="item">19</div></div>
				<div class="c-lay__item"><div class="item">20</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay c-lay--pt c-lay--mb c-lay--head-m"
		data-animation="a-fade-in-bottom"
		data-expanded="false"
		data-layout="100"
		data-layout-tablet="66:33"
		data-layout-desktop="66:33"
		data-section-type="stack"
		style="--sec-bg:#DDD;">
		<h2 class="c-lay__headline c-headline--h1">Section with expand and collapse functionality</h2>
		<div class="c-lay__description">
			This section will expand to reveal hidden content. The initial height is specified in modifiers <code>c-lay--exp-s</code>, <code>c-lay--exp-m</code> and <code>c-lay--exp-l</code>
		</div>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
			</div>
		</div>
			<!-- TODO -->
		<nav class="c-lay__dots">
			<button type="button" aria-label="Expand" data-toggle="COLLAPSE">Expand</button>
		</nav>
	</section>

	<section class="c-lay"
		data-animation="a-fade-in-bottom"
		data-breakpoints=":[0.1,768.2,1000.3,1200.4]"
		data-section-type="slider">
		<h2 class="c-lay__headline">Section with custom breakpoints</h2>
		<p class="c-lay__description">This section will update <code>items-per-page</code> dynamically, based on the value of the <code>data-breakpoints</code>-attribute.</p>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
				<div class="c-lay__item"><div class="item">10</div></div>
				<div class="c-lay__item"><div class="item">11</div></div>
				<div class="c-lay__item"><div class="item">12</div></div>
				<div class="c-lay__item"><div class="item">13</div></div>
				<div class="c-lay__item"><div class="item">14</div></div>
				<div class="c-lay__item"><div class="item">15</div></div>
				<div class="c-lay__item"><div class="item">16</div></div>
				<div class="c-lay__item"><div class="item">17</div></div>
				<div class="c-lay__item"><div class="item">18</div></div>
				<div class="c-lay__item"><div class="item">19</div></div>
				<div class="c-lay__item"><div class="item">20</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay"
		data-animation="a-fade-in-bottom"
		data-animation-target="items"
		data-layout="100"
		data-layout-tablet="50:50"
		data-layout-desktop="33:33:33"
		data-section-type="slider"
		data-loop=":true">
		<h2 class="c-lay__headline">No preview, 3 items per page, continous</h2>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay"
		data-animation="a-bounce-in-top"
		data-items-per-page=":4"
		data-js="slider">
		<h2 class="c-lay__headline">This section will not be a slider on desktop</h2>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay"
		data-animation="a-fade-in-bl"
		data-gap="none"
		data-layout="100"
		data-layout-tablet="50:50"
		data-layout-desktop="50:50"
		data-section-type="stack">
		<h2 class="c-lay__headline">These 2 items will stack and "glue" together</h2>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
			</div>
		</div>
	</section>

	<section class="c-lay"
		data-animate="false"
		data-animate-type="items"
		data-layout="25:50:25">
		<h2 class="c-lay__headline">No JavaScript, 3 items per page, scrollbar</h2>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
			</div>
		</div>
	</section>

	<!-- <section class="c-lay"
		data-align="center"
		data-items-per-page=":3"
		data-js="slider"
		dir="rtl">
		<h2 class="c-lay__headline">RTL: Preview of next and previous, 3 items per page</h2>
		<div class="c-lay__outer">
			<div class="c-lay__inner" data-scroller>
				<div class="c-lay__item"><div class="item">1</div></div>
				<div class="c-lay__item"><div class="item">2</div></div>
				<div class="c-lay__item"><div class="item">3</div></div>
				<div class="c-lay__item"><div class="item">4</div></div>
				<div class="c-lay__item"><div class="item">5</div></div>
				<div class="c-lay__item"><div class="item">6</div></div>
				<div class="c-lay__item"><div class="item">7</div></div>
				<div class="c-lay__item"><div class="item">8</div></div>
				<div class="c-lay__item"><div class="item">9</div></div>
				<div class="c-lay__item"><div class="item">10</div></div>
				<div class="c-lay__item"><div class="item">11</div></div>
				<div class="c-lay__item"><div class="item">12</div></div>
				<div class="c-lay__item"><div class="item">13</div></div>
				<div class="c-lay__item"><div class="item">14</div></div>
				<div class="c-lay__item"><div class="item">15</div></div>
				<div class="c-lay__item"><div class="item">16</div></div>
				<div class="c-lay__item"><div class="item">17</div></div>
				<div class="c-lay__item"><div class="item">18</div></div>
				<div class="c-lay__item"><div class="item">19</div></div>
				<div class="c-lay__item"><div class="item">20</div></div>
			</div>
		</div>
	</section> -->
</main>
	<!-- <script defer src="https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js"></script> -->
	<script type="module">
		const elements = document.querySelectorAll('[data-section-type="slider"]');
			if (elements.length) {
				import('../assets/js/slider.mjs')
				.then(module => {
					const jsClass = module.default;
					elements.forEach(element => {
						// new jsClass(element, element.dataset);
					});
				})
			}

	/* Trigger animations */
	const io = new IntersectionObserver((entries) => {	
	entries.forEach(entry => {
		if (entry.isIntersecting) {
			const section = entry.target;
			const animation = section.dataset.animation;
			const target = section.dataset.animationTarget;
			if (target) {
				const items = section.querySelectorAll('.c-lay__item');
				items.forEach(item => {
					item.classList.add(animation)
				});
				if (target === 'both') {
					section.classList.add(animation);
				}
			}
			else {
				section.classList.add(animation);
			}
			io.unobserve(entry.target);
		}
		},
		{
			threshold: [0.5]
		});
	});
	const sections = document.querySelectorAll('[data-animation]')
	sections.forEach(section => {
		io.observe(section);
	});

	/* Toggle */
	const togglers = document.querySelectorAll('[data-toggle]')
	togglers.forEach(toggle => {

		toggle.addEventListener('click', () => {
			const section = toggle.closest('.c-lay');
			const inner = section.querySelector('.c-lay__inner');
			const height = inner.scrollHeight;
			if (section) {
				const expanded = section.dataset.expanded === 'true'
				
				console.log(expanded);
				if (expanded) {
					section.style.setProperty('--sec-expand-h', `250px`);
					section.dataset.expanded = 'false';
					const rect = section.getBoundingClientRect();
					const scrollPos = (window.pageYOffset || document.documentElement.scrollTop) - (document.documentElement.clientTop || 0);
					console.log(parseInt(rect.top + scrollPos));
					window.setTimeout( () => {
						window.scrollTo({ top: parseInt(rect.top + scrollPos), behavior: 'smooth'});
					}, 250);
					toggle.innerText = 'Expand';
				// 
				/* TODO: Set toggle button text (or icon) */
				// section.dataset.sectionType = section.dataset.sectionType === 'expand' ? 'stack' : 'expand';
				}
				else {
					section.style.setProperty('--sec-expand-h', `${height}px`);
					toggle.innerText = toggle.dataset.toggle;
					section.dataset.expanded = 'true';
				}

				// section.dataset.expanded = expanded ? 'false' : 'true';
			}
				
		})
	});

</script>
</body>
</html>