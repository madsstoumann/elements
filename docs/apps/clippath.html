<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>CSS ClipPath Editor</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<link href="../assets/css/app-clippath.css" rel="stylesheet">
</head>
<body>
	<div data-js="clippath"
		data-api="http://localhost:3000/clippath/"	
		data-api-old="../assets/data/presets-clippath.json"
		data-app-icon="../assets/svg/cssapp.svg#clippath"
		data-lbl-app-header="CSS &lt;code&gt;clip-path&lt;/code&gt; Editor">
	</div>
	
	<script type="module">
		/* Default presets, if REST API fails */
		const presets = [
			{
				"name": "triangle",
				"value": "polygon(50% 0%, 0% 100%, 100% 100%)",
				"values": [
					{
						"coords": [
							[50,0],
							[0,100],
							[100,100]
						],
						"type": "polygon"
					}
				]
			}
		];
		const elements = document.querySelectorAll('[data-js="clippath"]');
			if (elements.length) {
				import('../assets/js/css-clippath.mjs')
				.then(module => {
					const jsClass = module.default;
					elements.forEach(element => {
						new jsClass(element, element.dataset, presets);
						element.addEventListener('eventAddPreset', (event) => { console.log(JSON.parse(event.detail)); });
						element.addEventListener('eventDelPreset', (event) => { console.warn(JSON.parse(event.detail)); });
					});
				})
			}
	</script>
</body>
</html>